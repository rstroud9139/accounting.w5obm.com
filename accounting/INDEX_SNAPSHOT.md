# Accounting Schema & Index Snapshot

Captured: 2025-11-10 19:55:49

---RAW OUTPUT BELOW---
================================================================================ TABLE: acc_assets -------------------------------------------------------------------------------- CREATE TABLE `acc_assets` (   `id` int NOT NULL AUTO_INCREMENT,   `name` varchar(255) COLLATE utf8mb3_unicode_ci NOT NULL,   `value` decimal(10,2) NOT NULL,   `description` text COLLATE utf8mb3_unicode_ci,   `acquisition_date` date DEFAULT NULL,   `depreciation_rate` decimal(5,2) DEFAULT NULL,   `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,   `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,   `status` varchar(20) COLLATE utf8mb3_unicode_ci NOT NULL DEFAULT 'Active',   `category` varchar(100) COLLATE utf8mb3_unicode_ci DEFAULT NULL,   `location` varchar(255) COLLATE utf8mb3_unicode_ci DEFAULT NULL,   `serial_number` varchar(100) COLLATE utf8mb3_unicode_ci DEFAULT NULL,   `vendor` varchar(255) COLLATE utf8mb3_unicode_ci DEFAULT NULL,   `warranty_expiration` date DEFAULT NULL,   `created_by` int DEFAULT NULL,   `updated_by` int DEFAULT NULL,   PRIMARY KEY (`id`),   KEY `idx_acc_assets_acq_date` (`acquisition_date`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3 COLLATE=utf8mb3_unicode_ci  INDEXES: - PRIMARY: (id) - idx_acc_assets_acq_date: (acquisition_date)  ================================================================================ TABLE: acc_audit_logs -------------------------------------------------------------------------------- CREATE TABLE `acc_audit_logs` (   `id` int NOT NULL AUTO_INCREMENT,   `action` varchar(255) COLLATE utf8mb3_unicode_ci NOT NULL,   `performed_by` varchar(255) COLLATE utf8mb3_unicode_ci DEFAULT NULL,   `details` text COLLATE utf8mb3_unicode_ci,   `performed_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,   PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3 COLLATE=utf8mb3_unicode_ci  INDEXES: - PRIMARY: (id)  ================================================================================ TABLE: acc_categories -------------------------------------------------------------------------------- CREATE TABLE `acc_categories` (   `id` int NOT NULL AUTO_INCREMENT,   `name` varchar(255) COLLATE utf8mb3_unicode_ci NOT NULL,   `description` text COLLATE utf8mb3_unicode_ci,   `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,   `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,   PRIMARY KEY (`id`) ) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3 COLLATE=utf8mb3_unicode_ci  INDEXES: - PRIMARY: (id)  ================================================================================ TABLE: acc_donations -------------------------------------------------------------------------------- CREATE TABLE `acc_donations` (   `id` int NOT NULL AUTO_INCREMENT,   `donor_name` varchar(255) COLLATE utf8mb3_unicode_ci NOT NULL,   `donor_email` varchar(255) COLLATE utf8mb3_unicode_ci DEFAULT NULL,   `amount` decimal(10,2) NOT NULL,   `donation_date` date NOT NULL,   `purpose` varchar(255) COLLATE utf8mb3_unicode_ci DEFAULT NULL,   `category_id` int DEFAULT NULL,   `account_id` int DEFAULT NULL,   `member_id` int DEFAULT NULL,   `description` text COLLATE utf8mb3_unicode_ci,   `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,   `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,   PRIMARY KEY (`id`),   KEY `category_id` (`category_id`),   KEY `account_id` (`account_id`),   KEY `member_id` (`member_id`),   CONSTRAINT `acc_donations_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `acc_transaction_categories` (`id`) ON DELETE SET NULL,   CONSTRAINT `acc_donations_ibfk_2` FOREIGN KEY (`account_id`) REFERENCES `acc_ledger_accounts` (`id`) ON DELETE SET NULL,   CONSTRAINT `acc_donations_ibfk_3` FOREIGN KEY (`member_id`) REFERENCES `members` (`id`) ON DELETE SET NULL ) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3 COLLATE=utf8mb3_unicode_ci  INDEXES: - PRIMARY: (id) - category_id: (category_id) - account_id: (account_id) - member_id: (member_id)  ================================================================================ TABLE: acc_items -------------------------------------------------------------------------------- CREATE TABLE `acc_items` (   `id` int NOT NULL AUTO_INCREMENT,   `name` varchar(255) COLLATE utf8mb3_unicode_ci NOT NULL,   `description` text COLLATE utf8mb3_unicode_ci,   `price` decimal(10,2) NOT NULL,   `stock_quantity` int DEFAULT NULL,   `account_id` int DEFAULT NULL,   `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,   `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,   PRIMARY KEY (`id`),   KEY `account_id` (`account_id`),   CONSTRAINT `acc_items_ibfk_1` FOREIGN KEY (`account_id`) REFERENCES `acc_ledger_accounts` (`id`) ON DELETE SET NULL ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3 COLLATE=utf8mb3_unicode_ci  INDEXES: - PRIMARY: (id) - account_id: (account_id)  ================================================================================ TABLE: acc_journal_lines -------------------------------------------------------------------------------- CREATE TABLE `acc_journal_lines` (   `id` int NOT NULL AUTO_INCREMENT,   `journal_id` int NOT NULL,   `account_id` int NOT NULL,   `category_id` int DEFAULT NULL,   `description` varchar(255) COLLATE utf8mb3_unicode_ci DEFAULT NULL,   `debit` decimal(14,2) NOT NULL DEFAULT '0.00',   `credit` decimal(14,2) NOT NULL DEFAULT '0.00',   `line_order` int NOT NULL DEFAULT '0',   `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,   PRIMARY KEY (`id`),   KEY `idx_journal_id` (`journal_id`),   KEY `idx_account_id` (`account_id`),   KEY `idx_category_id` (`category_id`),   CONSTRAINT `fk_jl_account` FOREIGN KEY (`account_id`) REFERENCES `acc_ledger_accounts` (`id`) ON DELETE RESTRICT,   CONSTRAINT `fk_jl_category` FOREIGN KEY (`category_id`) REFERENCES `acc_transaction_categories` (`id`) ON DELETE SET NULL,   CONSTRAINT `fk_jl_journal` FOREIGN KEY (`journal_id`) REFERENCES `acc_journals` (`id`) ON DELETE CASCADE,   CONSTRAINT `chk_jl_one_side` CHECK ((((`debit` = 0) and (`credit` > 0)) or ((`credit` = 0) and (`debit` > 0)))) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3 COLLATE=utf8mb3_unicode_ci  INDEXES: - PRIMARY: (id) - idx_journal_id: (journal_id) - idx_account_id: (account_id) - idx_category_id: (category_id)  ================================================================================ TABLE: acc_journals -------------------------------------------------------------------------------- CREATE TABLE `acc_journals` (   `id` int NOT NULL AUTO_INCREMENT,   `journal_date` date NOT NULL,   `memo` varchar(255) COLLATE utf8mb3_unicode_ci DEFAULT NULL,   `source` varchar(50) COLLATE utf8mb3_unicode_ci DEFAULT NULL,   `ref_no` varchar(50) COLLATE utf8mb3_unicode_ci DEFAULT NULL,   `created_by` int DEFAULT NULL,   `posted_at` timestamp NULL DEFAULT NULL,   `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,   `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,   PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3 COLLATE=utf8mb3_unicode_ci  INDEXES: - PRIMARY: (id)  ================================================================================ TABLE: acc_ledger_accounts -------------------------------------------------------------------------------- CREATE TABLE `acc_ledger_accounts` (   `id` int NOT NULL AUTO_INCREMENT,   `category_id` int NOT NULL,   `name` varchar(255) COLLATE utf8mb3_unicode_ci NOT NULL,   `description` text COLLATE utf8mb3_unicode_ci,   `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,   `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,   `account_number` varchar(50) COLLATE utf8mb3_unicode_ci DEFAULT NULL,   `account_type` varchar(20) COLLATE utf8mb3_unicode_ci DEFAULT NULL,   `parent_account_id` int DEFAULT NULL,   `active` tinyint(1) NOT NULL DEFAULT '1',   `created_by` int DEFAULT NULL,   `updated_by` int DEFAULT NULL,   PRIMARY KEY (`id`),   UNIQUE KEY `uq_acc_ledger_account_number` (`account_number`),   KEY `category_id` (`category_id`),   KEY `idx_ledger_type` (`account_type`),   KEY `idx_acc_ledger_parent` (`parent_account_id`),   KEY `idx_acc_ledger_active` (`active`),   CONSTRAINT `acc_ledger_accounts_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `acc_transaction_categories` (`id`) ON DELETE CASCADE,   CONSTRAINT `fk_acc_ledger_parent` FOREIGN KEY (`parent_account_id`) REFERENCES `acc_ledger_accounts` (`id`) ON DELETE SET NULL ) ENGINE=InnoDB AUTO_INCREMENT=56 DEFAULT CHARSET=utf8mb3 COLLATE=utf8mb3_unicode_ci  INDEXES: - PRIMARY: (id) - uq_acc_ledger_account_number: (account_number) - category_id: (category_id) - idx_ledger_type: (account_type) - idx_acc_ledger_parent: (parent_account_id) - idx_acc_ledger_active: (active)  ================================================================================ TABLE: acc_membership_dues -------------------------------------------------------------------------------- CREATE TABLE `acc_membership_dues` (   `id` int NOT NULL AUTO_INCREMENT,   `member_name` varchar(255) COLLATE utf8mb3_unicode_ci NOT NULL,   `member_email` varchar(255) COLLATE utf8mb3_unicode_ci DEFAULT NULL,   `amount_due` decimal(10,2) NOT NULL,   `due_date` date NOT NULL,   `payment_status` enum('Paid','Unpaid') COLLATE utf8mb3_unicode_ci DEFAULT 'Unpaid',   `payment_date` date DEFAULT NULL,   `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,   `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,   PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3 COLLATE=utf8mb3_unicode_ci  INDEXES: - PRIMARY: (id)  ================================================================================ TABLE: acc_recurring_transactions -------------------------------------------------------------------------------- CREATE TABLE `acc_recurring_transactions` (   `id` int NOT NULL AUTO_INCREMENT,   `category_id` int DEFAULT NULL,   `account_id` int DEFAULT NULL,   `amount` decimal(10,2) NOT NULL,   `description` text COLLATE utf8mb3_unicode_ci,   `type` enum('Income','Expense') COLLATE utf8mb3_unicode_ci NOT NULL,   `frequency` enum('Daily','Weekly','Monthly','Yearly') COLLATE utf8mb3_unicode_ci NOT NULL,   `next_occurrence` date NOT NULL,   `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,   `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,   PRIMARY KEY (`id`),   KEY `category_id` (`category_id`),   KEY `account_id` (`account_id`),   CONSTRAINT `acc_recurring_transactions_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `acc_transaction_categories` (`id`) ON DELETE SET NULL,   CONSTRAINT `acc_recurring_transactions_ibfk_2` FOREIGN KEY (`account_id`) REFERENCES `acc_ledger_accounts` (`id`) ON DELETE SET NULL ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3 COLLATE=utf8mb3_unicode_ci  INDEXES: - PRIMARY: (id) - category_id: (category_id) - account_id: (account_id)  ================================================================================ TABLE: acc_reports -------------------------------------------------------------------------------- CREATE TABLE `acc_reports` (   `id` int NOT NULL AUTO_INCREMENT,   `report_type` enum('Monthly','Yearly','Category') COLLATE utf8mb3_unicode_ci NOT NULL,   `parameters` text COLLATE utf8mb3_unicode_ci,   `generated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,   `file_path` varchar(255) COLLATE utf8mb3_unicode_ci DEFAULT NULL,   PRIMARY KEY (`id`),   KEY `idx_acc_reports_type` (`report_type`),   KEY `idx_acc_reports_generated` (`generated_at`) ) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb3 COLLATE=utf8mb3_unicode_ci  INDEXES: - PRIMARY: (id) - idx_acc_reports_type: (report_type) - idx_acc_reports_generated: (generated_at)  ================================================================================ TABLE: acc_transaction_categories -------------------------------------------------------------------------------- CREATE TABLE `acc_transaction_categories` (   `id` int NOT NULL AUTO_INCREMENT,   `category_id` int DEFAULT NULL,   `name` varchar(255) COLLATE utf8mb3_unicode_ci NOT NULL,   `type` enum('Income','Expense','Asset','Liability','Equity') COLLATE utf8mb3_unicode_ci NOT NULL,   `description` text COLLATE utf8mb3_unicode_ci,   `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,   `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,   `parent_category_id` int DEFAULT NULL,   `active` tinyint(1) NOT NULL DEFAULT '1',   `created_by` int DEFAULT NULL,   `updated_by` int DEFAULT NULL,   PRIMARY KEY (`id`),   KEY `category_id` (`category_id`),   KEY `fk_acc_cat_parent` (`parent_category_id`),   KEY `idx_acc_cat_type` (`type`),   CONSTRAINT `acc_transaction_categories_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `acc_categories` (`id`) ON DELETE SET NULL,   CONSTRAINT `fk_acc_cat_parent` FOREIGN KEY (`parent_category_id`) REFERENCES `acc_transaction_categories` (`id`) ON DELETE SET NULL ) ENGINE=InnoDB AUTO_INCREMENT=73 DEFAULT CHARSET=utf8mb3 COLLATE=utf8mb3_unicode_ci  INDEXES: - PRIMARY: (id) - category_id: (category_id) - fk_acc_cat_parent: (parent_category_id) - idx_acc_cat_type: (type)  ================================================================================ TABLE: acc_transactions -------------------------------------------------------------------------------- CREATE TABLE `acc_transactions` (   `id` int NOT NULL AUTO_INCREMENT,   `category_id` int DEFAULT NULL,   `account_id` int DEFAULT NULL,   `amount` decimal(10,2) NOT NULL,   `transaction_date` date NOT NULL,   `description` text COLLATE utf8mb3_unicode_ci,   `type` enum('Income','Expense') COLLATE utf8mb3_unicode_ci NOT NULL,   `customer_id` int DEFAULT NULL,   `vendor_id` int DEFAULT NULL,   `transaction_type` enum('Invoice','Payment','Bill','Deposit') COLLATE utf8mb3_unicode_ci NOT NULL,   `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,   `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,   `reference_number` varchar(100) COLLATE utf8mb3_unicode_ci DEFAULT NULL,   `notes` text COLLATE utf8mb3_unicode_ci,   `created_by` int DEFAULT NULL,   `updated_by` int DEFAULT NULL,   PRIMARY KEY (`id`),   KEY `customer_id` (`customer_id`),   KEY `idx_acc_txn_date` (`transaction_date`),   KEY `idx_acc_txn_type` (`type`),   KEY `idx_acc_txn_category` (`category_id`),   KEY `idx_acc_transactions_account` (`account_id`),   KEY `idx_acc_transactions_vendor` (`vendor_id`),   KEY `idx_acc_transactions_date_type` (`transaction_date`,`type`),   KEY `idx_acc_transactions_account_date` (`account_id`,`transaction_date`),   KEY `idx_acc_transactions_type_date` (`type`,`transaction_date`),   CONSTRAINT `acc_transactions_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `acc_transaction_categories` (`id`) ON DELETE SET NULL,   CONSTRAINT `acc_transactions_ibfk_2` FOREIGN KEY (`account_id`) REFERENCES `acc_ledger_accounts` (`id`) ON DELETE SET NULL,   CONSTRAINT `acc_transactions_ibfk_3` FOREIGN KEY (`customer_id`) REFERENCES `members` (`id`) ON DELETE SET NULL,   CONSTRAINT `acc_transactions_ibfk_4` FOREIGN KEY (`vendor_id`) REFERENCES `acc_vendors` (`id`) ON DELETE SET NULL ) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8mb3 COLLATE=utf8mb3_unicode_ci  INDEXES: - PRIMARY: (id) - customer_id: (customer_id) - idx_acc_txn_date: (transaction_date) - idx_acc_txn_type: (type) - idx_acc_txn_category: (category_id) - idx_acc_transactions_account: (account_id) - idx_acc_transactions_vendor: (vendor_id) - idx_acc_transactions_date_type: (transaction_date,type) - idx_acc_transactions_account_date: (account_id,transaction_date) - idx_acc_transactions_type_date: (type,transaction_date)  ================================================================================ TABLE: acc_vendors -------------------------------------------------------------------------------- CREATE TABLE `acc_vendors` (   `id` int NOT NULL AUTO_INCREMENT,   `name` varchar(255) COLLATE utf8mb3_unicode_ci NOT NULL,   `email` varchar(255) COLLATE utf8mb3_unicode_ci DEFAULT NULL,   `phone` varchar(50) COLLATE utf8mb3_unicode_ci DEFAULT NULL,   `address` text COLLATE utf8mb3_unicode_ci,   `description` text COLLATE utf8mb3_unicode_ci,   `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,   `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,   `contact_name` varchar(255) COLLATE utf8mb3_unicode_ci DEFAULT NULL,   `notes` text COLLATE utf8mb3_unicode_ci,   `active` tinyint(1) NOT NULL DEFAULT '1',   PRIMARY KEY (`id`) ) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3 COLLATE=utf8mb3_unicode_ci  INDEXES: - PRIMARY: (id)  ================================================================================ Done.
